# [2025ë…„ í•œì´ìŒ ë“œë¦¼ì—… ê³µëª¨ì „]

## **ğŸ’¡1. í”„ë¡œì íŠ¸ ê°œìš”**

**1-1. í”„ë¡œì íŠ¸ ì†Œê°œ**
- í”„ë¡œì íŠ¸ ëª… : UWB ê¸°ë°˜ ì£¼ì°¨ ìœ ë„ ì‹œìŠ¤í…œ ë° ìŠ¤ë§ˆíŠ¸ ìŠ¤í† í¼
- í”„ë¡œì íŠ¸ ì •ì˜ : ì°¨ëŸ‰ì˜ ìœ„ì¹˜ë¥¼ ì •ë°€í•˜ê²Œ ì¶”ì í•˜ì—¬ ìš´ì „ìì—ê²Œ ë¹ˆ ì£¼ì°¨ê³µê°„ê¹Œì§€ ìµœì  ê²½ë¡œë¥¼ ì•ˆë‚´í•˜ê³ , ì¥ì• ì¸ êµ¬ì—­ ë¬´ë‹¨ ì§„ì…ì„ ì°¨ë‹¨í•˜ëŠ” í†µí•© ì£¼ì°¨ ì†”ë£¨ì…˜

  <img width="700" alt="image" src="images\image.png" /></br>

**1-2. ê°œë°œ ë°°ê²½ ë° í•„ìš”ì„±**
- í˜„ëŒ€ ì‚¬íšŒì—ì„œ ì£¼ì°¨ ê³µê°„ ë¶€ì¡±ì€ ìš´ì „ìì—ê²Œ í° ë¶ˆí¸ê³¼ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì´ˆë˜í•˜ê³  ìˆìœ¼ë©°, ì¥ì‹œê°„ì˜ ì£¼ì°¨ ê³µê°„ íƒìƒ‰ì€ ë¶ˆí•„ìš”í•œ ê³µíšŒì „ìœ¼ë¡œ ì´ì–´ì ¸ í™˜ê²½ ë¬¸ì œë¥¼ ì•…í™”ì‹œí‚¤ê³  ìˆìŠµë‹ˆë‹¤. 
- ì¥ì• ì¸ ì „ìš© ì£¼ì°¨êµ¬ì—­ì˜ ë¶ˆë²• ì£¼ì°¨ëŠ” ìµœê·¼ ê¸‰ê²©íˆ ì¦ê°€í•˜ì—¬ ì‚¬íšŒì  ê°ˆë“±ê³¼ ë¯¼ì› ë¬¸ì œë¡œ ëŒ€ë‘ë˜ê³  ìˆìŠµë‹ˆë‹¤. 
- ì´ì— ë”°ë¼, ì°¨ëŸ‰ì˜ ìœ„ì¹˜ë¥¼ ì •ë°€í•˜ê²Œ ì¶”ì í•˜ê³  ì¥ì• ì¸ êµ¬ì—­ ë¬´ë‹¨ ì ìœ ë¥¼ ì‚¬ì „ì— ì°¨ë‹¨í•  ìˆ˜ ìˆëŠ” ì°¨ì„¸ëŒ€ í†µí•© ì£¼ì°¨ ê´€ë¦¬ ì‹œìŠ¤í…œì˜ í•„ìš”ì„±ì´ ì»¤ì§€ê³  ìˆìŠµë‹ˆë‹¤.


**1-3. í”„ë¡œì íŠ¸ íŠ¹ì¥ì **
- UWBì™€ ESP32 ê¸°ë°˜ ê³ ì •ë°€ ìœ„ì¹˜ ì¶”ì  (ì‹¤ë‚´ ì£¼ì°¨ì¥ í™˜ê²½ì—ì„œë„ ì•ˆì •ì  ì¸¡ìœ„ ê°€ëŠ¥)
- ìŠ¤ë§ˆíŠ¸ ìŠ¤í† í¼ë¥¼ í†µí•œ ì¥ì• ì¸ ì „ìš© ì£¼ì°¨êµ¬ì—­ ë¬´ë‹¨ ì§„ì… ì°¨ë‹¨
- ì°¨ëŸ‰ ìœ í˜•ë³„ ë§ì¶¤í˜• ì£¼ì°¨ ë°°ì • ì„œë¹„ìŠ¤ (ì¼ë°˜/ì¥ì• ì¸/ì „ê¸°ì°¨)
- ì°¨ëŸ‰ ë‚´ HMI ì•ˆë‚´ ë° ê´€ì œ ëŒ€ì‹œë³´ë“œ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- ROS2 ê¸°ë°˜ í†µí•© ì•„í‚¤í…ì²˜ (micro-ROSë¡œ ESP32ê¹Œì§€ ì—°ë™)

**1-4. ì£¼ìš” ê¸°ëŠ¥**
- UWB ê¸°ë°˜ ìœ„ì¹˜ ì¶”ì  : íƒœê·¸â€“ì•µì»¤ ì‚¼ë³€ì¸¡ëŸ‰ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì°¨ëŸ‰ ìœ„ì¹˜ë¥¼ ì„¼í‹°ë¯¸í„° ë‹¨ìœ„ë¡œ ì •ë°€ ì¶”ì 
- ê²½ë¡œ ì•ˆë‚´ ê¸°ëŠ¥ : ê·œì¹™ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ë¹ˆ ì£¼ì°¨ê³µê°„ê¹Œì§€ ìµœì  ê²½ë¡œë¥¼ ì‚°ì¶œí•˜ê³  HMI í™”ë©´ì— ì‹œê°í™”
- ëª©ì ì§€ ê¸°ë°˜ ì¶”ì²œ : ì‚¬ìš©ìê°€ ì„ íƒí•œ ëª©ì ì§€ ì£¼ë³€ì˜ ì”ì—¬ ì£¼ì°¨ê³µê°„ì„ ì°¨ëŸ‰ ìœ í˜•ë³„ë¡œ ìë™ ì¶”ì²œ  
  (ex. ë°±í™”ì  ë‚´ ì˜í™”ê´€, ë³¸ê´€ ì…êµ¬, ë¬¸í™”ì‹œì„¤ ì´ìš© ê³ ê°ì—ê²Œ ìµœì  ì£¼ì°¨ ìœ„ì¹˜ ì œê³µ)
- ì°¨ëŸ‰ íŒë³„ ê¸°ëŠ¥ : BLE RSSI ì‹ í˜¸ë¥¼ í™œìš©í•´ ì°¨ëŸ‰ì„ ìë™ íŒë³„í•˜ê³  ìœ í˜•(ì¼ë°˜/ì „ê¸°/ì¥ì• ì¸) ë¶„ë¥˜
- ìŠ¤ë§ˆíŠ¸ ìŠ¤í† í¼ ì œì–´ : ì¸ì¦ëœ ì¥ì• ì¸ ì°¨ëŸ‰ë§Œ ì§„ì…ì„ í—ˆìš©í•˜ê³  ì¼ë°˜ ì°¨ëŸ‰ì€ ë¬¼ë¦¬ì ìœ¼ë¡œ ì°¨ë‹¨
- ì‹¤ì‹œê°„ ê´€ì œ ì„œë¹„ìŠ¤ : ê´€ì œ ëŒ€ì‹œë³´ë“œë¥¼ í†µí•´ ì „ì²´ ì£¼ì°¨ì¥ í˜„í™©ê³¼ ì°¨ëŸ‰ ì´ë™ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§

**1-5. ê¸°ëŒ€ íš¨ê³¼ ë° í™œìš© ë¶„ì•¼**
- ê¸°ëŒ€ íš¨ê³¼ : ì£¼ì°¨ ê³µê°„ íƒìƒ‰ ì‹œê°„ ë‹¨ì¶•ìœ¼ë¡œ ì£¼ì°¨ íš¨ìœ¨ì„± í–¥ìƒ, ì¥ì• ì¸ ì „ìš© êµ¬ì—­ ë¬´ë‹¨ ì ìœ  ë°©ì§€ë¡œ ì´ë™ê¶Œ ë³´ì¥, ì£¼ì°¨ ê´€ë¦¬ì˜ ìë™í™”ë¡œ ìš´ì˜ íš¨ìœ¨ì„± ì œê³ 
- í™œìš© ë¶„ì•¼ : ëŒ€í˜• ìƒì—…ì‹œì„¤(ë°±í™”ì , ë§ˆíŠ¸), ì£¼ê±°ì‹œì„¤(ì•„íŒŒíŠ¸, ì˜¤í”¼ìŠ¤í…”), ê³µê³µê¸°ê´€ ì£¼ì°¨ì¥, ìŠ¤ë§ˆíŠ¸ ì‹œí‹° êµí†µ ë° ì£¼ì°¨ ì¸í”„ë¼ ë“± 

**1-6. ê¸°ìˆ  ìŠ¤íƒ**

| êµ¬ë¶„ | ì‚¬ìš© ê¸°ìˆ  |
|------|-----------|
| **UI** | ![PyQt5](https://img.shields.io/badge/PyQt5-41CD52?style=flat&logo=qt&logoColor=white) |
| **Framework** | ![ROS2](https://img.shields.io/badge/ROS2-Jazzy-blue?style=flat&logo=ros&logoColor=white) ![micro-ROS](https://img.shields.io/badge/micro--ROS-lightgrey?style=flat&logo=ros&logoColor=white) |
| **Languages** | ![Python](https://img.shields.io/badge/Python-3776AB?style=flat&logo=python&logoColor=white) ![C](https://img.shields.io/badge/C-A8B9CC?style=flat&logo=c&logoColor=white) ![C++](https://img.shields.io/badge/C++-00599C?style=flat&logo=cplusplus&logoColor=white) |
| **Algorithms** | `Trilateration` `Kalman Filter` `Rule-based Path Planning` `Outlier Removal` `Median Filter` `Axis Alignment` |
| **MCU** | ![ESP32](https://img.shields.io/badge/ESP32-000000?style=flat&logo=espressif&logoColor=white) ![Arduino Mega](https://img.shields.io/badge/Arduino%20Mega-00979D?style=flat&logo=arduino&logoColor=white) |
| **SBC** | ![Raspberry Pi](https://img.shields.io/badge/Raspberry%20Pi-A22846?style=flat&logo=raspberrypi&logoColor=white) |
| **Communication** | `UWB (DWM1000)` `BLE` `Socket (TCP/IP)` `UART` `SPI` |
| **Project Management** | ![Git](https://img.shields.io/badge/Git-F05032?style=flat&logo=git&logoColor=white) ![GitHub](https://img.shields.io/badge/GitHub-181717?style=flat&logo=github&logoColor=white) ![Notion](https://img.shields.io/badge/Notion-000000?style=flat&logo=notion&logoColor=white) |

---

## **ğŸ’¡2. íŒ€ì› ì†Œê°œ**

| **í•œê²½ë¹ˆ (íŒ€ì¥)** | **ì¥ì¤€í‘œ** | **ì¥ì„œìœ¤** | **ì •ì¬ìœ¤** | **ì´ìœ ì§„** |
|:---:|:---:|:---:|:---:|:---:|
| <img width="120" height="150" src="images/í•œê²½ë¹ˆ.jpg" > | <img width="120" height="150" src="images/ì¥ì¤€í‘œ.jpg" > | <img width="120" height="150" src="images/ì¥ì„œìœ¤.jpg" > | <img width="120" height="150" src="images/ì •ì¬ìœ¤.png" > | <img width="120" height="150" src="images/ì´ìœ ì§„.jpg" > |
| ğŸ”— [GitHub](https://github.com/hustlehan) | ğŸ”— [GitHub](https://github.com/IAMJP520) | ğŸ”— [GitHub](https://github.com/seoyun9) | ğŸ”— [GitHub](https://github.com/jjletsgo) | ğŸ”— [GitHub](https://github.com/euzin3) |
| â€¢ ROS2 ë…¸ë“œ ê°œë°œ <br> â€¢ ì„œë²„ ë° ê´€ì œ ì‹œìŠ¤í…œ êµ¬ì¶• <br> â€¢ ê²½ë¡œ ê³„íš <br> &nbsp; | â€¢ ì°¨ëŸ‰ HMI ì¸í„°í˜ì´ìŠ¤ êµ¬ì¶• <br> â€¢ TCP/IP ê¸°ë°˜ ì†Œì¼“ í†µì‹  ëª¨ë“ˆ ê°œë°œ <br> &nbsp; | â€¢ ì£¼ì°¨ì¥ ì°¨ë‹¨ê¸° ì œì–´ <br> â€¢ BLE RSSI ê¸°ë°˜ ì°¨ëŸ‰ ì •ë³´ ìˆ˜ì‹  <br> &nbsp; | â€¢ HW ë° ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ì„¤ê³„ <br> â€¢ ìŠ¤ë§ˆíŠ¸ ìŠ¤í† í¼ ì œì–´ <br> â€¢ UWB ì‚¼ë³€ì¸¡ëŸ‰ ë° í•„í„°ë§ | â€¢ UWB ì‚¼ë³€ì¸¡ëŸ‰ ë° í•„í„°ë§ <br> &nbsp; <br> &nbsp; |
| ![Team Leader](https://img.shields.io/badge/Team-Leader-blue) <br> ![ROS2](https://img.shields.io/badge/ROS2-Node-brightgreen) <br> ![Server](https://img.shields.io/badge/Server-Control-lightblue) | ![HMI](https://img.shields.io/badge/HMI-Frontend-orange) <br> ![Comm](https://img.shields.io/badge/TCP%2FIP-Socket-yellowgreen) <br> &nbsp; | ![BLE](https://img.shields.io/badge/BLE-Comm-lightgrey) <br> ![Barrier](https://img.shields.io/badge/Barrier-Control-yellow) <br> &nbsp; | ![HW](https://img.shields.io/badge/HW-Design-brown) <br> ![Architecture](https://img.shields.io/badge/System-Architecture-lightseagreen) <br> ![UWB](https://img.shields.io/badge/UWB-Algorithm-red) | ![UWB](https://img.shields.io/badge/UWB-Algorithm-red) <br> &nbsp; <br> &nbsp; |


---
## **ğŸ’¡3. ì‹œìŠ¤í…œ êµ¬ì„±ë„**
| **ì„œë¹„ìŠ¤ íë¦„ë„** |
|---|
| [<img src="images\ì„œë¹„ìŠ¤%20íë¦„ë„.png" width="700" alt="ì„œë¹„ìŠ¤ íë¦„ë„">](images\ì„œë¹„ìŠ¤%20íë¦„ë„.png) |

| **S/W êµ¬ì„±ë„** |
|---|
| [<img src="images\SW%20êµ¬ì„±ë„.png" width="700" alt="S/W êµ¬ì„±ë„">](images\SW%20êµ¬ì„±ë„.png) |

| **H/W êµ¬ì„±ë„** |
|---|
| [<img src="images\HW%20êµ¬ì„±ë„.png" width="700" alt="H/W êµ¬ì„±ë„">](images\HW%20êµ¬ì„±ë„.png) |

---
## **ğŸ’¡4. ì‘í’ˆ ì†Œê°œì˜ìƒ**
[![í•œì´ìŒ ë“œë¦¼ì—… í”„ë¡œì íŠ¸ ì†Œê°œ](images\1.png)](https://www.youtube.com/watch?v=wbkJ4pecB-A)

---
## **ğŸ’¡5. í•µì‹¬ ì†ŒìŠ¤ì½”ë“œ**

- **ì‚¼ë³€ì¸¡ëŸ‰ (Trilateration ì•Œê³ ë¦¬ì¦˜)**  
UWB íƒœê·¸ì™€ ì•µì»¤ ì‚¬ì´ì˜ ê±°ë¦¬ ì •ë³´ë¥¼ ì´ìš©í•˜ì—¬ ì°¨ëŸ‰ì˜ 2ì°¨ì› ì¢Œí‘œ(x, y)ë¥¼ ê³„ì‚°í•˜ëŠ” í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤.  
3ê°œì˜ ì•µì»¤ ì¢Œí‘œ(`a[3]`)ì™€ ê°ê°ì˜ ê±°ë¦¬ê°’(`r[3]`)ì„ ì…ë ¥ë°›ì•„, ì„ í˜•ë°©ì •ì‹ì„ í’€ì–´ ì°¨ëŸ‰ì˜ ìœ„ì¹˜ë¥¼ ì‚°ì¶œí•©ë‹ˆë‹¤.  
det(í–‰ë ¬ì‹)ì´ 0ì— ê°€ê¹Œìš°ë©´ í•´ê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤. 
  

```C
static bool trilat2D(const Vec3 a[3], const float r[3], float &x, float &y) {
    // ì•µì»¤ ê°„ ì¢Œí‘œ ì°¨ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í–‰ë ¬ A êµ¬ì„±
    float A11 = 2.0f*(a[1].x - a[0].x), A12 = 2.0f*(a[1].y - a[0].y);
    float A21 = 2.0f*(a[2].x - a[0].x), A22 = 2.0f*(a[2].y - a[0].y);

    // ê° ì•µì»¤ì™€ íƒœê·¸ ì‚¬ì´ì˜ ê±°ë¦¬ ì œê³±ê³¼ ì¢Œí‘œë¥¼ ì´ìš©í•œ b ë²¡í„° ê³„ì‚°
    float b1  = (r[0]*r[0] - r[1]*r[1])
              + (a[1].x*a[1].x - a[0].x*a[0].x)
              + (a[1].y*a[1].y - a[0].y*a[0].y);
    float b2  = (r[0]*r[0] - r[2]*r[2])
              + (a[2].x*a[2].x - a[0].x*a[0].x)
              + (a[2].y*a[2].y - a[0].y*a[0].y);

    // í–‰ë ¬ì‹(det)ì´ 0ì— ê°€ê¹Œìš°ë©´ ì—°ë¦½ë°©ì •ì‹ì„ í’€ ìˆ˜ ì—†ìŒ
    float det = A11*A22 - A12*A21;
    if (fabsf(det) < 1e-6f) return false;

    // Cramerâ€™s ruleì„ í†µí•´ (x, y) ì¢Œí‘œ ê³„ì‚°
    x = ( b1*A22 - A12*b2) / det;
    y = (-b1*A21 + A11*b2) / det;
    return true;
}
```

- **Rule-based ê²½ë¡œ ê³„íš ì•Œê³ ë¦¬ì¦˜**  
ì°¨ëŸ‰ì´ ì§„ì…í•œ í›„, ëª©ì ì§€ ì£¼ì°¨ êµ¬ì—­ê¹Œì§€ì˜ waypointsë¥¼ ê³„ì‚°í•˜ëŠ” ê·œì¹™ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤.
ì£¼ì°¨ì¥ êµ¬ì¡°ë¥¼ ë¯¸ë¦¬ ì •ì˜í•œ í›„ ì„ íƒëœ ì£¼ì°¨ êµ¬ì—­ ë²ˆí˜¸ì— ë”°ë¼ í•„ìˆ˜ ê²½ìœ ì§€ë¥¼ ë‹¤ë¥´ê²Œ ì„¤ì •í•©ë‹ˆë‹¤.
ê°„ë‹¨í•œ if-else ê·œì¹™ì„ í†µí•´ ì°¨ëŸ‰ì˜ ì´ë™ ê²½ë¡œë¥¼ ìœ ë„í•˜ë©°, ëª©ì ì§€ ì¢Œí‘œ(target_waypoint)ê¹Œì§€ì˜ ìµœì  ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. 

```python
def calculate_waypoints(self, target_spot: int) -> List[Tuple[int, int]]:
        if target_spot not in self.parking_waypoints:
            return []
        
        # ì„ íƒëœ ì£¼ì°¨ êµ¬ì—­ ì¢Œí‘œ
        target_waypoint = self.parking_waypoints[target_spot]

        # í•­ìƒ ê±°ì³ì•¼ í•˜ëŠ” ì‹œì‘ ì§€ì  (ì…êµ¬)
        waypoints = [self.MANDATORY_WAYPOINT] 
        
        # êµ¬ì—­ë³„ ê·œì¹™ ê¸°ë°˜ ê²½ë¡œ ì„¤ì •
        if target_spot == 1:              
            waypoints.append(target_waypoint)
        elif target_spot in [2, 3, 4, 5]:  
            waypoints.append((200, 1475))     
            waypoints.append(target_waypoint)
        elif target_spot == 6:  
            waypoints.append((200, 1475))
            waypoints.append((1475, 1475))    
            waypoints.append(target_waypoint)
        elif target_spot == 7:  
            waypoints.append((1475, 925))
            waypoints.append(target_waypoint)
        elif target_spot in [8, 9, 10, 11]: 
            waypoints.append(target_waypoint)
        
        return waypoints
```